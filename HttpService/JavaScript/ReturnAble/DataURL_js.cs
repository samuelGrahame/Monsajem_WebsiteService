using System;
using System.Collections.Generic;
using System.Linq;
using System.Text;
using System.Threading.Tasks;

namespace Monsajem_Incs.HttpService.JavaScript
{
    public class DataURL_js :
        String_js
    {
        public DataURL_js(byte[] Value) :
            base()
        {
            HowGet = "\"data:,base64;" + System.Convert.ToBase64String(Value) + "\"";
        }

        public unsafe static string ByteToData(byte[] Buffer)
        {
            var Count = Buffer.Length * 3;
            var Result = new char[Count];
            int i = 0;
            int j = 0;
            fixed (char* RefResult = Result)
            fixed (byte* RefBuffer = Buffer)
            fixed (char* DataUrl = BytesToData.GetDataURL)
                while (i < Count)
                {
                    
                   *(RefResult+i) = '%';
                   var URLIndex = *(RefBuffer+j) * 2;
                    *(RefResult +i + 1) = *(DataUrl+URLIndex);
                    *(RefResult+i + 2) = *(DataUrl+URLIndex + 1);
                    i += 3;
                    j += 1;
                }
            return new string(Result);
        }

        private static class BytesToData
        {
            public static char[] GetDataURL =
                new char[512];

            static BytesToData()
            {
                GetDataURL[0] = '0';
                GetDataURL[1] = '0';
                GetDataURL[2] = '0';
                GetDataURL[3] = '1';
                GetDataURL[4] = '0';
                GetDataURL[5] = '2';
                GetDataURL[6] = '0';
                GetDataURL[7] = '3';
                GetDataURL[8] = '0';
                GetDataURL[9] = '4';
                GetDataURL[10] = '0';
                GetDataURL[11] = '5';
                GetDataURL[12] = '0';
                GetDataURL[13] = '6';
                GetDataURL[14] = '0';
                GetDataURL[15] = '7';
                GetDataURL[16] = '0';
                GetDataURL[17] = '8';
                GetDataURL[18] = '0';
                GetDataURL[19] = '9';
                GetDataURL[20] = '0';
                GetDataURL[21] = 'A';
                GetDataURL[22] = '0';
                GetDataURL[23] = 'B';
                GetDataURL[24] = '0';
                GetDataURL[25] = 'C';
                GetDataURL[26] = '0';
                GetDataURL[27] = 'D';
                GetDataURL[28] = '0';
                GetDataURL[29] = 'E';
                GetDataURL[30] = '0';
                GetDataURL[31] = 'F';
                GetDataURL[32] = '1';
                GetDataURL[33] = '0';
                GetDataURL[34] = '1';
                GetDataURL[35] = '1';
                GetDataURL[36] = '1';
                GetDataURL[37] = '2';
                GetDataURL[38] = '1';
                GetDataURL[39] = '3';
                GetDataURL[40] = '1';
                GetDataURL[41] = '4';
                GetDataURL[42] = '1';
                GetDataURL[43] = '5';
                GetDataURL[44] = '1';
                GetDataURL[45] = '6';
                GetDataURL[46] = '1';
                GetDataURL[47] = '7';
                GetDataURL[48] = '1';
                GetDataURL[49] = '8';
                GetDataURL[50] = '1';
                GetDataURL[51] = '9';
                GetDataURL[52] = '1';
                GetDataURL[53] = 'A';
                GetDataURL[54] = '1';
                GetDataURL[55] = 'B';
                GetDataURL[56] = '1';
                GetDataURL[57] = 'C';
                GetDataURL[58] = '1';
                GetDataURL[59] = 'D';
                GetDataURL[60] = '1';
                GetDataURL[61] = 'E';
                GetDataURL[62] = '1';
                GetDataURL[63] = 'F';
                GetDataURL[64] = '2';
                GetDataURL[65] = '0';
                GetDataURL[66] = '2';
                GetDataURL[67] = '1';
                GetDataURL[68] = '2';
                GetDataURL[69] = '2';
                GetDataURL[70] = '2';
                GetDataURL[71] = '3';
                GetDataURL[72] = '2';
                GetDataURL[73] = '4';
                GetDataURL[74] = '2';
                GetDataURL[75] = '5';
                GetDataURL[76] = '2';
                GetDataURL[77] = '6';
                GetDataURL[78] = '2';
                GetDataURL[79] = '7';
                GetDataURL[80] = '2';
                GetDataURL[81] = '8';
                GetDataURL[82] = '2';
                GetDataURL[83] = '9';
                GetDataURL[84] = '2';
                GetDataURL[85] = 'A';
                GetDataURL[86] = '2';
                GetDataURL[87] = 'B';
                GetDataURL[88] = '2';
                GetDataURL[89] = 'C';
                GetDataURL[90] = '2';
                GetDataURL[91] = 'D';
                GetDataURL[92] = '2';
                GetDataURL[93] = 'E';
                GetDataURL[94] = '2';
                GetDataURL[95] = 'F';
                GetDataURL[96] = '3';
                GetDataURL[97] = '0';
                GetDataURL[98] = '3';
                GetDataURL[99] = '1';
                GetDataURL[100] = '3';
                GetDataURL[101] = '2';
                GetDataURL[102] = '3';
                GetDataURL[103] = '3';
                GetDataURL[104] = '3';
                GetDataURL[105] = '4';
                GetDataURL[106] = '3';
                GetDataURL[107] = '5';
                GetDataURL[108] = '3';
                GetDataURL[109] = '6';
                GetDataURL[110] = '3';
                GetDataURL[111] = '7';
                GetDataURL[112] = '3';
                GetDataURL[113] = '8';
                GetDataURL[114] = '3';
                GetDataURL[115] = '9';
                GetDataURL[116] = '3';
                GetDataURL[117] = 'A';
                GetDataURL[118] = '3';
                GetDataURL[119] = 'B';
                GetDataURL[120] = '3';
                GetDataURL[121] = 'C';
                GetDataURL[122] = '3';
                GetDataURL[123] = 'D';
                GetDataURL[124] = '3';
                GetDataURL[125] = 'E';
                GetDataURL[126] = '3';
                GetDataURL[127] = 'F';
                GetDataURL[128] = '4';
                GetDataURL[129] = '0';
                GetDataURL[130] = '4';
                GetDataURL[131] = '1';
                GetDataURL[132] = '4';
                GetDataURL[133] = '2';
                GetDataURL[134] = '4';
                GetDataURL[135] = '3';
                GetDataURL[136] = '4';
                GetDataURL[137] = '4';
                GetDataURL[138] = '4';
                GetDataURL[139] = '5';
                GetDataURL[140] = '4';
                GetDataURL[141] = '6';
                GetDataURL[142] = '4';
                GetDataURL[143] = '7';
                GetDataURL[144] = '4';
                GetDataURL[145] = '8';
                GetDataURL[146] = '4';
                GetDataURL[147] = '9';
                GetDataURL[148] = '4';
                GetDataURL[149] = 'A';
                GetDataURL[150] = '4';
                GetDataURL[151] = 'B';
                GetDataURL[152] = '4';
                GetDataURL[153] = 'C';
                GetDataURL[154] = '4';
                GetDataURL[155] = 'D';
                GetDataURL[156] = '4';
                GetDataURL[157] = 'E';
                GetDataURL[158] = '4';
                GetDataURL[159] = 'F';
                GetDataURL[160] = '5';
                GetDataURL[161] = '0';
                GetDataURL[162] = '5';
                GetDataURL[163] = '1';
                GetDataURL[164] = '5';
                GetDataURL[165] = '2';
                GetDataURL[166] = '5';
                GetDataURL[167] = '3';
                GetDataURL[168] = '5';
                GetDataURL[169] = '4';
                GetDataURL[170] = '5';
                GetDataURL[171] = '5';
                GetDataURL[172] = '5';
                GetDataURL[173] = '6';
                GetDataURL[174] = '5';
                GetDataURL[175] = '7';
                GetDataURL[176] = '5';
                GetDataURL[177] = '8';
                GetDataURL[178] = '5';
                GetDataURL[179] = '9';
                GetDataURL[180] = '5';
                GetDataURL[181] = 'A';
                GetDataURL[182] = '5';
                GetDataURL[183] = 'B';
                GetDataURL[184] = '5';
                GetDataURL[185] = 'C';
                GetDataURL[186] = '5';
                GetDataURL[187] = 'D';
                GetDataURL[188] = '5';
                GetDataURL[189] = 'E';
                GetDataURL[190] = '5';
                GetDataURL[191] = 'F';
                GetDataURL[192] = '6';
                GetDataURL[193] = '0';
                GetDataURL[194] = '6';
                GetDataURL[195] = '1';
                GetDataURL[196] = '6';
                GetDataURL[197] = '2';
                GetDataURL[198] = '6';
                GetDataURL[199] = '3';
                GetDataURL[200] = '6';
                GetDataURL[201] = '4';
                GetDataURL[202] = '6';
                GetDataURL[203] = '5';
                GetDataURL[204] = '6';
                GetDataURL[205] = '6';
                GetDataURL[206] = '6';
                GetDataURL[207] = '7';
                GetDataURL[208] = '6';
                GetDataURL[209] = '8';
                GetDataURL[210] = '6';
                GetDataURL[211] = '9';
                GetDataURL[212] = '6';
                GetDataURL[213] = 'A';
                GetDataURL[214] = '6';
                GetDataURL[215] = 'B';
                GetDataURL[216] = '6';
                GetDataURL[217] = 'C';
                GetDataURL[218] = '6';
                GetDataURL[219] = 'D';
                GetDataURL[220] = '6';
                GetDataURL[221] = 'E';
                GetDataURL[222] = '6';
                GetDataURL[223] = 'F';
                GetDataURL[224] = '7';
                GetDataURL[225] = '0';
                GetDataURL[226] = '7';
                GetDataURL[227] = '1';
                GetDataURL[228] = '7';
                GetDataURL[229] = '2';
                GetDataURL[230] = '7';
                GetDataURL[231] = '3';
                GetDataURL[232] = '7';
                GetDataURL[233] = '4';
                GetDataURL[234] = '7';
                GetDataURL[235] = '5';
                GetDataURL[236] = '7';
                GetDataURL[237] = '6';
                GetDataURL[238] = '7';
                GetDataURL[239] = '7';
                GetDataURL[240] = '7';
                GetDataURL[241] = '8';
                GetDataURL[242] = '7';
                GetDataURL[243] = '9';
                GetDataURL[244] = '7';
                GetDataURL[245] = 'A';
                GetDataURL[246] = '7';
                GetDataURL[247] = 'B';
                GetDataURL[248] = '7';
                GetDataURL[249] = 'C';
                GetDataURL[250] = '7';
                GetDataURL[251] = 'D';
                GetDataURL[252] = '7';
                GetDataURL[253] = 'E';
                GetDataURL[254] = '7';
                GetDataURL[255] = 'F';
                GetDataURL[256] = '8';
                GetDataURL[257] = '0';
                GetDataURL[258] = '8';
                GetDataURL[259] = '1';
                GetDataURL[260] = '8';
                GetDataURL[261] = '2';
                GetDataURL[262] = '8';
                GetDataURL[263] = '3';
                GetDataURL[264] = '8';
                GetDataURL[265] = '4';
                GetDataURL[266] = '8';
                GetDataURL[267] = '5';
                GetDataURL[268] = '8';
                GetDataURL[269] = '6';
                GetDataURL[270] = '8';
                GetDataURL[271] = '7';
                GetDataURL[272] = '8';
                GetDataURL[273] = '8';
                GetDataURL[274] = '8';
                GetDataURL[275] = '9';
                GetDataURL[276] = '8';
                GetDataURL[277] = 'A';
                GetDataURL[278] = '8';
                GetDataURL[279] = 'B';
                GetDataURL[280] = '8';
                GetDataURL[281] = 'C';
                GetDataURL[282] = '8';
                GetDataURL[283] = 'D';
                GetDataURL[284] = '8';
                GetDataURL[285] = 'E';
                GetDataURL[286] = '8';
                GetDataURL[287] = 'F';
                GetDataURL[288] = '9';
                GetDataURL[289] = '0';
                GetDataURL[290] = '9';
                GetDataURL[291] = '1';
                GetDataURL[292] = '9';
                GetDataURL[293] = '2';
                GetDataURL[294] = '9';
                GetDataURL[295] = '3';
                GetDataURL[296] = '9';
                GetDataURL[297] = '4';
                GetDataURL[298] = '9';
                GetDataURL[299] = '5';
                GetDataURL[300] = '9';
                GetDataURL[301] = '6';
                GetDataURL[302] = '9';
                GetDataURL[303] = '7';
                GetDataURL[304] = '9';
                GetDataURL[305] = '8';
                GetDataURL[306] = '9';
                GetDataURL[307] = '9';
                GetDataURL[308] = '9';
                GetDataURL[309] = 'A';
                GetDataURL[310] = '9';
                GetDataURL[311] = 'B';
                GetDataURL[312] = '9';
                GetDataURL[313] = 'C';
                GetDataURL[314] = '9';
                GetDataURL[315] = 'D';
                GetDataURL[316] = '9';
                GetDataURL[317] = 'E';
                GetDataURL[318] = '9';
                GetDataURL[319] = 'F';
                GetDataURL[320] = 'A';
                GetDataURL[321] = '0';
                GetDataURL[322] = 'A';
                GetDataURL[323] = '1';
                GetDataURL[324] = 'A';
                GetDataURL[325] = '2';
                GetDataURL[326] = 'A';
                GetDataURL[327] = '3';
                GetDataURL[328] = 'A';
                GetDataURL[329] = '4';
                GetDataURL[330] = 'A';
                GetDataURL[331] = '5';
                GetDataURL[332] = 'A';
                GetDataURL[333] = '6';
                GetDataURL[334] = 'A';
                GetDataURL[335] = '7';
                GetDataURL[336] = 'A';
                GetDataURL[337] = '8';
                GetDataURL[338] = 'A';
                GetDataURL[339] = '9';
                GetDataURL[340] = 'A';
                GetDataURL[341] = 'A';
                GetDataURL[342] = 'A';
                GetDataURL[343] = 'B';
                GetDataURL[344] = 'A';
                GetDataURL[345] = 'C';
                GetDataURL[346] = 'A';
                GetDataURL[347] = 'D';
                GetDataURL[348] = 'A';
                GetDataURL[349] = 'E';
                GetDataURL[350] = 'A';
                GetDataURL[351] = 'F';
                GetDataURL[352] = 'B';
                GetDataURL[353] = '0';
                GetDataURL[354] = 'B';
                GetDataURL[355] = '1';
                GetDataURL[356] = 'B';
                GetDataURL[357] = '2';
                GetDataURL[358] = 'B';
                GetDataURL[359] = '3';
                GetDataURL[360] = 'B';
                GetDataURL[361] = '4';
                GetDataURL[362] = 'B';
                GetDataURL[363] = '5';
                GetDataURL[364] = 'B';
                GetDataURL[365] = '6';
                GetDataURL[366] = 'B';
                GetDataURL[367] = '7';
                GetDataURL[368] = 'B';
                GetDataURL[369] = '8';
                GetDataURL[370] = 'B';
                GetDataURL[371] = '9';
                GetDataURL[372] = 'B';
                GetDataURL[373] = 'A';
                GetDataURL[374] = 'B';
                GetDataURL[375] = 'B';
                GetDataURL[376] = 'B';
                GetDataURL[377] = 'C';
                GetDataURL[378] = 'B';
                GetDataURL[379] = 'D';
                GetDataURL[380] = 'B';
                GetDataURL[381] = 'E';
                GetDataURL[382] = 'B';
                GetDataURL[383] = 'F';
                GetDataURL[384] = 'C';
                GetDataURL[385] = '0';
                GetDataURL[386] = 'C';
                GetDataURL[387] = '1';
                GetDataURL[388] = 'C';
                GetDataURL[389] = '2';
                GetDataURL[390] = 'C';
                GetDataURL[391] = '3';
                GetDataURL[392] = 'C';
                GetDataURL[393] = '4';
                GetDataURL[394] = 'C';
                GetDataURL[395] = '5';
                GetDataURL[396] = 'C';
                GetDataURL[397] = '6';
                GetDataURL[398] = 'C';
                GetDataURL[399] = '7';
                GetDataURL[400] = 'C';
                GetDataURL[401] = '8';
                GetDataURL[402] = 'C';
                GetDataURL[403] = '9';
                GetDataURL[404] = 'C';
                GetDataURL[405] = 'A';
                GetDataURL[406] = 'C';
                GetDataURL[407] = 'B';
                GetDataURL[408] = 'C';
                GetDataURL[409] = 'C';
                GetDataURL[410] = 'C';
                GetDataURL[411] = 'D';
                GetDataURL[412] = 'C';
                GetDataURL[413] = 'E';
                GetDataURL[414] = 'C';
                GetDataURL[415] = 'F';
                GetDataURL[416] = 'D';
                GetDataURL[417] = '0';
                GetDataURL[418] = 'D';
                GetDataURL[419] = '1';
                GetDataURL[420] = 'D';
                GetDataURL[421] = '2';
                GetDataURL[422] = 'D';
                GetDataURL[423] = '3';
                GetDataURL[424] = 'D';
                GetDataURL[425] = '4';
                GetDataURL[426] = 'D';
                GetDataURL[427] = '5';
                GetDataURL[428] = 'D';
                GetDataURL[429] = '6';
                GetDataURL[430] = 'D';
                GetDataURL[431] = '7';
                GetDataURL[432] = 'D';
                GetDataURL[433] = '8';
                GetDataURL[434] = 'D';
                GetDataURL[435] = '9';
                GetDataURL[436] = 'D';
                GetDataURL[437] = 'A';
                GetDataURL[438] = 'D';
                GetDataURL[439] = 'B';
                GetDataURL[440] = 'D';
                GetDataURL[441] = 'C';
                GetDataURL[442] = 'D';
                GetDataURL[443] = 'D';
                GetDataURL[444] = 'D';
                GetDataURL[445] = 'E';
                GetDataURL[446] = 'D';
                GetDataURL[447] = 'F';
                GetDataURL[448] = 'E';
                GetDataURL[449] = '0';
                GetDataURL[450] = 'E';
                GetDataURL[451] = '1';
                GetDataURL[452] = 'E';
                GetDataURL[453] = '2';
                GetDataURL[454] = 'E';
                GetDataURL[455] = '3';
                GetDataURL[456] = 'E';
                GetDataURL[457] = '4';
                GetDataURL[458] = 'E';
                GetDataURL[459] = '5';
                GetDataURL[460] = 'E';
                GetDataURL[461] = '6';
                GetDataURL[462] = 'E';
                GetDataURL[463] = '7';
                GetDataURL[464] = 'E';
                GetDataURL[465] = '8';
                GetDataURL[466] = 'E';
                GetDataURL[467] = '9';
                GetDataURL[468] = 'E';
                GetDataURL[469] = 'A';
                GetDataURL[470] = 'E';
                GetDataURL[471] = 'B';
                GetDataURL[472] = 'E';
                GetDataURL[473] = 'C';
                GetDataURL[474] = 'E';
                GetDataURL[475] = 'D';
                GetDataURL[476] = 'E';
                GetDataURL[477] = 'E';
                GetDataURL[478] = 'E';
                GetDataURL[479] = 'F';
                GetDataURL[480] = 'F';
                GetDataURL[481] = '0';
                GetDataURL[482] = 'F';
                GetDataURL[483] = '1';
                GetDataURL[484] = 'F';
                GetDataURL[485] = '2';
                GetDataURL[486] = 'F';
                GetDataURL[487] = '3';
                GetDataURL[488] = 'F';
                GetDataURL[489] = '4';
                GetDataURL[490] = 'F';
                GetDataURL[491] = '5';
                GetDataURL[492] = 'F';
                GetDataURL[493] = '6';
                GetDataURL[494] = 'F';
                GetDataURL[495] = '7';
                GetDataURL[496] = 'F';
                GetDataURL[497] = '8';
                GetDataURL[498] = 'F';
                GetDataURL[499] = '9';
                GetDataURL[500] = 'F';
                GetDataURL[501] = 'A';
                GetDataURL[502] = 'F';
                GetDataURL[503] = 'B';
                GetDataURL[504] = 'F';
                GetDataURL[505] = 'C';
                GetDataURL[506] = 'F';
                GetDataURL[507] = 'D';
                GetDataURL[508] = 'F';
                GetDataURL[509] = 'E';
                GetDataURL[510] = 'F';
                GetDataURL[511] = 'F';
            }
        }

        private static string DecimalToHex(int Value)
        {
            if (Value < 9)
                return Value.ToString();
            var Result = "";
            int BaseValue = System.Text.Encoding.UTF8.GetBytes("0")[0] + 7;
            while (Value > 9)
            {
                var CurrentValue = Value % 16;
                Value = Value / 16;

                if (CurrentValue < 10)
                    Result = CurrentValue.ToString() + Result;
                else
                    Result = System.Text.Encoding.UTF8.GetString(
                                new byte[] { (byte)(CurrentValue + BaseValue) }) +
                                Result;
            }
            if (Value > 0)
                Result = Value.ToString() + Result;
            return Result;
        }
    }

}
